{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('axios')) : typeof define === 'function' && define.amd ? define(['exports', 'axios'], factory) : (global = global || self, factory(global.petfinder = {}, global.axios));\n})(this, function (exports, axios) {\n  'use strict';\n\n  axios = axios && axios.hasOwnProperty('default') ? axios['default'] : axios;\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\n\n  /* global Reflect, Promise */\n\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  function __extends(d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  }\n\n  function __awaiter(thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n\n      function step(result) {\n        result.done ? resolve(result.value) : new P(function (resolve) {\n          resolve(result.value);\n        }).then(fulfilled, rejected);\n      }\n\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  }\n\n  function __generator(thisArg, body) {\n    var _ = {\n      label: 0,\n      sent: function sent() {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n        f,\n        y,\n        t,\n        g;\n    return g = {\n      next: verb(0),\n      \"throw\": verb(1),\n      \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n      return this;\n    }), g;\n\n    function verb(n) {\n      return function (v) {\n        return step([n, v]);\n      };\n    }\n\n    function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n\n      while (_) {\n        try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n\n          switch (op[0]) {\n            case 0:\n            case 1:\n              t = op;\n              break;\n\n            case 4:\n              _.label++;\n              return {\n                value: op[1],\n                done: false\n              };\n\n            case 5:\n              _.label++;\n              y = op[1];\n              op = [0];\n              continue;\n\n            case 7:\n              op = _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n\n            default:\n              if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                _ = 0;\n                continue;\n              }\n\n              if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                _.label = op[1];\n                break;\n              }\n\n              if (op[0] === 6 && _.label < t[1]) {\n                _.label = t[1];\n                t = op;\n                break;\n              }\n\n              if (t && _.label < t[2]) {\n                _.label = t[2];\n\n                _.ops.push(op);\n\n                break;\n              }\n\n              if (t[2]) _.ops.pop();\n\n              _.trys.pop();\n\n              continue;\n          }\n\n          op = body.call(thisArg, _);\n        } catch (e) {\n          op = [6, e];\n          y = 0;\n        } finally {\n          f = t = 0;\n        }\n      }\n\n      if (op[0] & 5) throw op[1];\n      return {\n        value: op[0] ? op[1] : void 0,\n        done: true\n      };\n    }\n  }\n\n  var ApiClient =\n  /** @class */\n  function () {\n    function ApiClient(client) {\n      this.client = client;\n      this.http = client.http;\n    }\n\n    ApiClient.prototype.ensureAuthenticated = function () {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!!(\"Authorization\" in this.http.defaults.headers.common)) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.client.authenticate()];\n\n            case 1:\n              _a.sent();\n\n              _a.label = 2;\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return ApiClient;\n  }();\n\n  var Animal =\n  /** @class */\n  function (_super) {\n    __extends(Animal, _super);\n\n    function Animal() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    Animal.prototype.search = function (params) {\n      if (params === void 0) {\n        params = {};\n      }\n\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/animals\", {\n                params: params\n              })];\n          }\n        });\n      });\n    };\n\n    Animal.prototype.show = function (id) {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/animals/\" + id)];\n          }\n        });\n      });\n    };\n\n    return Animal;\n  }(ApiClient);\n\n  var AnimalData =\n  /** @class */\n  function (_super) {\n    __extends(AnimalData, _super);\n\n    function AnimalData() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    AnimalData.prototype.types = function () {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/types\")];\n          }\n        });\n      });\n    };\n\n    AnimalData.prototype.type = function (type) {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/types/\" + type)];\n          }\n        });\n      });\n    };\n\n    AnimalData.prototype.breeds = function (type) {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/types/\" + type + \"/breeds\")];\n          }\n        });\n      });\n    };\n\n    return AnimalData;\n  }(ApiClient);\n\n  var Organization =\n  /** @class */\n  function (_super) {\n    __extends(Organization, _super);\n\n    function Organization() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    Organization.prototype.search = function (params) {\n      if (params === void 0) {\n        params = {};\n      }\n\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/organizations\", {\n                params: params\n              })];\n          }\n        });\n      });\n    };\n\n    Organization.prototype.show = function (id) {\n      return __awaiter(this, void 0, Promise, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , this.ensureAuthenticated()];\n\n            case 1:\n              _a.sent();\n\n              return [2\n              /*return*/\n              , this.http.get(\"/organizations/\" + id)];\n          }\n        });\n      });\n    };\n\n    return Organization;\n  }(ApiClient);\n\n  var ProblemDetailsError =\n  /** @class */\n  function (_super) {\n    __extends(ProblemDetailsError, _super);\n\n    function ProblemDetailsError(request, response) {\n      var _this = _super.call(this, response.data.title) || this;\n\n      _this.request = request;\n      _this.response = response;\n      _this.type = response.data.type;\n      _this.status = response.data.status;\n      _this.details = response.data.detail;\n      _this.invalidParams = response.data[\"invalid-params\"];\n      Object.setPrototypeOf(_this, ProblemDetailsError.prototype);\n      return _this;\n    }\n\n    return ProblemDetailsError;\n  }(Error);\n\n  var Client =\n  /** @class */\n  function () {\n    function Client(config) {\n      var _this = this;\n\n      this.config = config;\n      this.http = axios.create({\n        baseURL: config.baseUrl || \"https://api.petfinder.com/v2\",\n        headers: {\n          \"x-api-sdk\": \"petfinder-js-sdk/v1.0 (https://github.com/petfinder-com/petfinder-js-sdk)\"\n        }\n      });\n      this.http.interceptors.response.use(function (response) {\n        return response;\n      }, function (error) {\n        if (error.response && _this.isProblemDetailsResponse(error.response)) {\n          return Promise.reject(new ProblemDetailsError(error.request, error.response));\n        }\n\n        return Promise.reject(error);\n      });\n    }\n\n    Object.defineProperty(Client.prototype, \"animalData\", {\n      get: function get() {\n        return new AnimalData(this);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Client.prototype, \"animal\", {\n      get: function get() {\n        return new Animal(this);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Client.prototype, \"organization\", {\n      get: function get() {\n        return new Organization(this);\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    Client.prototype.authenticate = function (token) {\n      return __awaiter(this, void 0, Promise, function () {\n        var response, accessToken;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              accessToken = token || this.config.token;\n              if (!!accessToken) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.http.post(\"/oauth2/token\", {\n                client_id: this.config.apiKey,\n                client_secret: this.config.secret,\n                grant_type: \"client_credentials\"\n              })];\n\n            case 1:\n              response = _a.sent();\n              accessToken = response.data.access_token;\n              _a.label = 2;\n\n            case 2:\n              this.config.token = accessToken;\n              this.http.defaults.headers.common.Authorization = \"Bearer \" + accessToken;\n              return [2\n              /*return*/\n              , response];\n          }\n        });\n      });\n    };\n\n    Client.prototype.isProblemDetailsResponse = function (response) {\n      var headers = response.headers || {};\n      var contentType = headers[\"content-type\"] || \"\";\n      return contentType.includes(\"application/problem+json\");\n    };\n\n    return Client;\n  }();\n\n  exports.Client = Client;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":null,"metadata":{},"sourceType":"script"}